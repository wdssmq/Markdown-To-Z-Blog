# Markdown-To-Z-Blog

同步*.md 内容到 Z-Blog

使用说明请戳：「[使用说明](#部署 "使用说明")」

---start---

## 目录( 2022 年 05 月 15 日更新)

[【备忘】JavaScript 及 jQuery 常用代码](https://www.wdssmq.com/post/20201116687.html "【备忘】JavaScript 及 jQuery 常用代码")

[【列表】需要时却可能找不到的网址](https://www.wdssmq.com/post/20191227185.html "【列表】需要时却可能找不到的网址")

[「GM_脚本」qBittorrent 批量修改种子 tracker](https://www.wdssmq.com/post/20191117777.html "「GM_脚本」qBittorrent 批量修改种子 tracker")

[「备忘」Nginx 重定向（301）相关](https://www.wdssmq.com/post/20140819797.html "「备忘」Nginx 重定向（301）相关")

[【PHP 笔记】Call to undefined function curl_init()](https://www.wdssmq.com/post/20201231275.html "【PHP 笔记】Call to undefined function curl_init()")

[「水坑」Z-Blog 简易二级导航菜单 CSS](https://www.wdssmq.com/post/20200413146.html "「水坑」Z-Blog 简易二级导航菜单 CSS")

[【真·碎碎念】2021/06/07 ~ 2021/06/13](https://www.wdssmq.com/post/20210820119.html "【真·碎碎念】2021/06/07 ~ 2021/06/13")

[不能邮箱登录的网站都是耍流氓【无力吐槽】](https://www.wdssmq.com/post/20140507140.html "不能邮箱登录的网站都是耍流氓【无力吐槽】")

[【真·碎碎念】2021-07-28「特别篇」](https://www.wdssmq.com/post/20120641176.html "【真·碎碎念】2021-07-28「特别篇」")

[「折腾」重装了 VPS 却没有 tar 命令这种事](https://www.wdssmq.com/post/20211120519.html "「折腾」重装了 VPS 却没有 tar 命令这种事")

[【折腾】基于 Node 的 QQ 机器人项目](https://www.wdssmq.com/post/20210101974.html "【折腾】基于 Node 的 QQ 机器人项目")

[「折腾」Docker 化安装 Z-BlogPHP](https://www.wdssmq.com/post/20120817544.html "「折腾」Docker 化安装 Z-BlogPHP")

[【真·碎碎念】2021/05/31 ~ 2021/06/06](https://www.wdssmq.com/post/20210608249.html "【真·碎碎念】2021/05/31 ~ 2021/06/06")

[口算题在线生成（可打印）](https://www.wdssmq.com/post/shuxue.html "口算题在线生成（可打印）")

[【真·碎碎念】2021/09/20 ~ 2021/09/26](https://www.wdssmq.com/post/20100305270.html "【真·碎碎念】2021/09/20 ~ 2021/09/26")

[【折腾】GitHub Actions 反代 RSSHub + 多实例轮询](https://www.wdssmq.com/post/20100309739.html "【折腾】GitHub Actions 反代 RSSHub + 多实例轮询")

[【备忘】再再次谈系统安装【2021】](https://www.wdssmq.com/post/20120622915.html "【备忘】再再次谈系统安装【2021】")

[【真·碎碎念】2021/04/26 ~ 2021/05/02](https://www.wdssmq.com/post/20100305398.html "【真·碎碎念】2021/04/26 ~ 2021/05/02")

[「VPS」DesiVPS $20 年付优惠](https://www.wdssmq.com/post/20220219378.html "「VPS」DesiVPS $20 年付优惠")

[「GM_脚本」获取 GitHub 项目文件的 jsDelivr CDN 地址「好像没啥用系列」](https://www.wdssmq.com/post/20210724854.html "「GM_脚本」获取 GitHub 项目文件的 jsDelivr CDN 地址「好像没啥用系列」")

[【列表】上一部](https://www.wdssmq.com/post/20190520228.html "【列表】上一部")

[【言说】RSS 是一种态度！！](https://www.wdssmq.com/post/20201231613.html "【言说】RSS 是一种态度！！")

[「折腾」Nginx 解析网址参数并跳转](https://www.wdssmq.com/post/20201107566.html "「折腾」Nginx 解析网址参数并跳转")

[【Ubuntu 笔记】常见错误提示整理](https://www.wdssmq.com/post/20131101035.html "【Ubuntu 笔记】常见错误提示整理")

[「VPS」HostNamaste $20 年付优惠](https://www.wdssmq.com/post/20220331233.html "「VPS」HostNamaste $20 年付优惠")

[「图说」右键菜单栏工具什么的「2022-05」](https://www.wdssmq.com/post/20120915760.html "「图说」右键菜单栏工具什么的「2022-05」")

[「小目标」平均每篇文章/Git Repository 赚取 1 元](https://www.wdssmq.com/post/20210723266.html "「小目标」平均每篇文章/Git Repository 赚取 1 元")

[善举之后！](https://www.wdssmq.com/post/20100204358.html "善举之后！")

[「GM 脚本」大会员 B 币领取提醒](https://www.wdssmq.com/post/20141219446.html "「GM 脚本」大会员 B 币领取提醒")

[「折腾」使用 rollup.js 模块化编写 GM 脚本](https://www.wdssmq.com/post/20120627834.html "「折腾」使用 rollup.js 模块化编写 GM 脚本")

[「折腾」Linux 定时备份教程](https://www.wdssmq.com/post/20140816860.html "「折腾」Linux 定时备份教程")

[「折腾」尝试成为 Z-BlogPHP 区 UP 主](https://www.wdssmq.com/post/20220102004.html "「折腾」尝试成为 Z-BlogPHP 区 UP 主")

[「折腾」莫名其妙得解决了 wsl2 内 Docker 的自启动](https://www.wdssmq.com/post/20140328160.html "「折腾」莫名其妙得解决了 wsl2 内 Docker 的自启动")

[2012年7月18日冷笑话合集 - 贵姓](https://www.wdssmq.com/post/20120718661.html "2012年7月18日冷笑话合集 - 贵姓")

[武侠人士常用不衰的10大绝招](https://www.wdssmq.com/post/wuxiarenshichangyongbushuaide10dajuezhao.html "武侠人士常用不衰的10大绝招")

[不暝茶【异事录】](https://www.wdssmq.com/post/20100413169.html "不暝茶【异事录】")

[评《龙与雀斑公主》：确定不是试图玩「叙述性诡计」？](https://www.wdssmq.com/post/20220428283.html "评《龙与雀斑公主》：确定不是试图玩「叙述性诡计」？")

---end---

## 致谢

zhaoolee/WordPressXMLRPCTools: 用 Hexo 的方式管理 WordPress

[https://github.com/zhaoolee/WordPressXMLRPCTools](https://github.com/zhaoolee/WordPressXMLRPCTools "zhaoolee/WordPressXMLRPCTools: 用Hexo的方式管理WordPress")

## 部署

[![Latest release](https://img.shields.io/github/v/release/wdssmq/Markdown-To-Z-Blog?style=flat-square)](https://github.com/wdssmq/Markdown-To-Z-Blog/releases/latest "Latest release")

↑ 点击图标链接，下载「md2zbp.zip」文件解压至你的版本库文件夹内；

↓ 修改如下文件项目后即可初始化提交；

> `.github/FUNDING.yml` 「用于设置赞助链接——<a class="img-wrap" target="_blank" title="爱发电-@wdssmq" href="https://afdian.net/@wdssmq"><img src="https://img.shields.io/badge/%E7%88%B1%E5%8F%91%E7%94%B5-%40wdssmq-blueviolet" title="爱发电-@wdssmq" alt="爱发电-@wdssmq"></a>」；
>
> `README.md` 「注：`---start---任意内容---end---`用于插入文章列表，其他内容随意」；
>
> `doc/` 「该文件夹及内部图片如不需要可删除」；

↓ 请阅读后续章节了解如何使用；

## 推荐插件

API 接口扩展 - Z-Blog 应用中心：

[https://app.zblogcn.com/?id=19450](https://app.zblogcn.com/?id=19450 "API接口扩展 - Z-Blog 应用中心")

Markdown 工具 - Z-Blog 应用中心：

[https://app.zblogcn.com/?id=19416](https://app.zblogcn.com/?id=19416 "Markdown工具 - Z-Blog 应用中心")

## 命令（本地测试）

```shell
pip install markdown
pip install requests
pip install python-frontmatter
```

创建 config.json 并按如下示例填写内容：

```json
{
    "API_USR": "zblog_usr",
    "API_PWD": "zblog_pwd",
    "API_URL": "http://zblog.site/zb_system/api.php",
    "DEBUG": 1
}
```

**注：debug 模式需要手动创建`_debug_README.md`并写入`---start---任意内容---end---`。**

运行：

```bash
python api.py
```

## 文章书写

### 存放路径

支持两种形式，需要配图的文章可以创建一个文件夹存放；

**注：配图自动调用见「[#图床](#图床 "图床")」一节；**

- _posts/*.md
- _posts/*/doc.md

### 内容格式

- 可以直接复制`_posts/1970-01-01-empty.md`；
- 对于 VSCode ，可以使用快捷命令`ctrl + shift + b`；【2021-02-05】
  - **注：会同时创建文件夹和单文件两种形式，按需改名使用即可；**
  - **注：未改名的会被`.gitignore`排除；**

```md
---
title: 文章标题
tags:
- 标签一
- 标签二
categories:
- 分类名
---

正文段落一

<!--more-->

正文段落二

```

## 图床

使用 Cloudflare Workers 反代 GitHub；

根据「·参考」内容配置，然后设置如下 secret：

```conf
IMG_HOST=https://img.wdssmq.workers.dev/
; 应以 / 结尾
```

图片放置：

```md
 _posts
 ├─ 1970-01-01-empty.md
 └─ 2022-04-23-One-Post
     ├─ 001.png
     ├─ 002.png
     ├─ 003.png
     └─ doc.png
```

文章内使用相对地址引用：

```md
![001.png](001.png)
```

发布时会尝试替换为：

`https://img.wdssmq.workers.dev/_posts/2022-04-23-One-Post/001.png`

**·参考：**

「折腾」关于 2021 年末仍然没有完备的图床方案这件事\_电脑网络\_沉冰浮水：

[https://www.wdssmq.com/post/20211225085.html](https://www.wdssmq.com/post/20211225085.html "「折腾」关于 2021 年末仍然没有完备的图床方案这件事\_电脑网络\_沉冰浮水")

## API 鉴权设置

如图，密码建议使用「md5(密码明文)」；

![001](doc/001.png "001")


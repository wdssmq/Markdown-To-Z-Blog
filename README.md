# Markdown-To-Z-Blog

同步*.md 内容到 Z-Blog

使用说明请戳：「[使用说明](#部署 "使用说明")」

---start---

## 目录( 2023 年 05 月 16 日更新)

[「水坑」一些 SQL 语句](https://www.wdssmq.com/post/20120816277.html "「水坑」一些 SQL 语句")

[2013 年 10 月 26 日冷笑话合集 - 重病的朋友](https://www.wdssmq.com/post/20131026161.html "2013 年 10 月 26 日冷笑话合集 - 重病的朋友")

[回收](https://www.wdssmq.com/post/20230501376.html "回收")

[2010 年 8 月 8 日冷笑话合集 - 君子报仇](https://www.wdssmq.com/post/2010Nian8Yue8RiXiaoHuaHeJi-JunZiBaoChou.html "2010 年 8 月 8 日冷笑话合集 - 君子报仇")

[2010 年 8 月 4 日冷笑话合集 - 你真幸运](https://www.wdssmq.com/post/2010Nian8Yue4RiXiaoHuaHeJi-NiZhenXingYun.html "2010 年 8 月 4 日冷笑话合集 - 你真幸运")

[2011 年 8 月 11 日冷笑话合集 - 狮子不饿](https://www.wdssmq.com/post/2011Nian8Yue11RiLengXiaoHuaHeJi-ShiZiBuE.html "2011 年 8 月 11 日冷笑话合集 - 狮子不饿")

[2010 年 11 月 25 日冷笑话合集 - 象棋](https://www.wdssmq.com/post/2010Nian11Yue25RiLengXiaoHuaHeJi-XiangQi.html "2010 年 11 月 25 日冷笑话合集 - 象棋")

[2010 年 10 月 17 日冷笑话合集 - 家常饭菜的知心话](https://www.wdssmq.com/post/2010nian10yue17rixiaohuaheji-jiachangfandezhixinhua.html "2010 年 10 月 17 日冷笑话合集 - 家常饭菜的知心话")

[找个好女孩做老婆](https://www.wdssmq.com/post/20100601368.html "找个好女孩做老婆")

[让人抓狂的辩护律师](https://www.wdssmq.com/post/RangRenZhuaKuangDeBianHuLvShi.html "让人抓狂的辩护律师")

[2011 年 3 月 11 日冷笑话合集 - 坑爹的网名](https://www.wdssmq.com/post/2011Nian3Yue11RiLengXiaoHua-KengDieDeWangMing.html "2011 年 3 月 11 日冷笑话合集 - 坑爹的网名")

[2010 年 11 月 16 日冷笑话合集 - 吃饭的](https://www.wdssmq.com/post/2010Nian11Yue16RiLengXiaoHuaHeJi-ChiFanDe.html "2010 年 11 月 16 日冷笑话合集 - 吃饭的")

[这尼玛是人类算 24 点的方法！！！！](https://www.wdssmq.com/post/ZheNiMaShiRenLeiSuan24DianDeFangFa.html "这尼玛是人类算 24 点的方法！！！！")

[2011 年 9 月 3 日冷笑话合集 - 萝莉指路](https://www.wdssmq.com/post/2011Nian9Yue3RiLengXiaoHuaHeJi-LuoLiZhiLu.html "2011 年 9 月 3 日冷笑话合集 - 萝莉指路")

[2009 年最经典的茶具语录](https://www.wdssmq.com/post/20100218967.html "2009 年最经典的茶具语录")

[2010 年 10 月 13 日冷笑话合集 - 占位](https://www.wdssmq.com/post/2010Nian10Yue13RiLengXiaoHuaHeJi-ZhanWei.html "2010 年 10 月 13 日冷笑话合集 - 占位")

[我还是再找个主机吧。](https://www.wdssmq.com/post/WoHaiShiZaiZhaoGeZhuJiBa.html "我还是再找个主机吧。")

[z-blog 转 WP 插件_支持文章别名及留言板](https://www.wdssmq.com/post/z-blogZhuanWPChaJian-ZhiChiWenZhangBieMingJiLiuYanBan.html "z-blog 转 WP 插件_支持文章别名及留言板")

[短期内不会再碰 WP 了吧](https://www.wdssmq.com/post/DuanQiNeiBuHuiZaiPengWPLeBa.html "短期内不会再碰 WP 了吧")

[2011 年 8 月 29 日冷笑话合集 - 减肥药](https://www.wdssmq.com/post/2011Nian8Yue29RiLengXiaoHuaHeJi-JianFeiYao.html "2011 年 8 月 29 日冷笑话合集 - 减肥药")

[10 个精彩智力问题，看你会做几道？](https://www.wdssmq.com/post/10gejingcaizhiliwenti-kannihuizuojidao.html "10 个精彩智力问题，看你会做几道？")

[「折腾」使用 rollup.js 模块化编写 GM 脚本](https://www.wdssmq.com/post/20120627834.html "「折腾」使用 rollup.js 模块化编写 GM 脚本")

[2010 年 8 月 29 日冷笑话合集 - 动物生存本领的启示](https://www.wdssmq.com/post/2010nian8yue29rixiaohuaheji-dongwushengcunbenlingdeqishi.html "2010 年 8 月 29 日冷笑话合集 - 动物生存本领的启示")

[2010 年 8 月 24 日冷笑话合集 - 望梅止渴](https://www.wdssmq.com/post/2010nian8yue24rixiaohuaheji-wangmeizhike.html "2010 年 8 月 24 日冷笑话合集 - 望梅止渴")

[世界再大，我却遇见你；世界再小，我却丢了你](https://www.wdssmq.com/post/20100521212.html "世界再大，我却遇见你；世界再小，我却丢了你")

[24 条不怎么经典的语录](https://www.wdssmq.com/post/24TiaoBuZenMeJingDianDeYuLu.html "24 条不怎么经典的语录")

[武侠小说看太多后的作文](https://www.wdssmq.com/post/wuxiaxiaoshuokantaiduohoudezuowen.html "武侠小说看太多后的作文")

[2010 年 9 月 18 日冷笑话合集 - 百度是个复姓](https://www.wdssmq.com/post/2010nian9yue18rixiaohuaheji-baidushuoba-deshenfenzhengkendingshigehao.html "2010 年 9 月 18 日冷笑话合集 - 百度是个复姓")

[致命黄金屋【恐怖故事】](https://www.wdssmq.com/post/ZhiMingHuangJinWuKongBuGuShi.html "致命黄金屋【恐怖故事】")

[酒桌上的 DOTA](https://www.wdssmq.com/post/JiuZhuoShangDeDOTA-RenRenDouShiYiShuJia.html "酒桌上的 DOTA")

[娶老婆的金科玉律【无厘网文】](https://www.wdssmq.com/post/QuLaoPoDeJinKeYuLvWuLiWangWen.html "娶老婆的金科玉律【无厘网文】")

[2010 年 11 月 3 日冷笑话合集 - 越来越冷了](https://www.wdssmq.com/post/2010Nian11Yue3RiXiaoHuaHeJi-YueLaiYueLengLe.html "2010 年 11 月 3 日冷笑话合集 - 越来越冷了")

[2010 年 11 月 26 日冷笑话合集 - 发布会](https://www.wdssmq.com/post/2010Nian11Yue26RiLengXiaoHuaHeJi-FaBuHui.html "2010 年 11 月 26 日冷笑话合集 - 发布会")

[「VPS」DesiVPS $20 年付优惠](https://www.wdssmq.com/post/20220219378.html "「VPS」DesiVPS $20 年付优惠")

[「VPS」DesiVPS 23 年四月优惠丨可选中文 win 系统](https://www.wdssmq.com/post/20100211992.html "「VPS」DesiVPS 23 年四月优惠丨可选中文 win 系统")

[2011 年 10 月 21 日冷笑话合集 - 妻子的抱怨](https://www.wdssmq.com/post/2011Nian10Yue21RiLengXiaoHuaHeJi-QiZiDeBaoYuan.html "2011 年 10 月 21 日冷笑话合集 - 妻子的抱怨")

[2013 年 11 月 21 日冷笑话合集 - 有钱又怎样](https://www.wdssmq.com/post/20131121374.html "2013 年 11 月 21 日冷笑话合集 - 有钱又怎样")

---end---

## 致谢

zhaoolee/WordPressXMLRPCTools: 用 Hexo 的方式管理 WordPress

[https://github.com/zhaoolee/WordPressXMLRPCTools](https://github.com/zhaoolee/WordPressXMLRPCTools "zhaoolee/WordPressXMLRPCTools: 用Hexo的方式管理WordPress")

## 部署

[![Latest release](https://img.shields.io/github/v/release/wdssmq/Markdown-To-Z-Blog?style=flat-square)](https://github.com/wdssmq/Markdown-To-Z-Blog/releases/latest "Latest release")

↑ 点击图标链接，下载「md2zbp.zip」文件解压至你的版本库文件夹内；

↓ 修改如下文件项目后即可初始化提交；

> `.github/FUNDING.yml` 「用于设置赞助链接——<a class="img-wrap" target="_blank" title="爱发电-@wdssmq" href="https://afdian.net/@wdssmq"><img src="https://img.shields.io/badge/%E7%88%B1%E5%8F%91%E7%94%B5-%40wdssmq-blueviolet" title="爱发电-@wdssmq" alt="爱发电-@wdssmq"></a>」；
>
> `README.md` 「注：`---start---任意内容---end---`用于插入文章列表，其他内容随意」；
>
> `doc/` 「该文件夹及内部图片如不需要可删除」；

↓ 请阅读后续章节了解如何使用；

## 推荐插件

API 接口扩展 - Z-Blog 应用中心：

[https://app.zblogcn.com/?id=19450](https://app.zblogcn.com/?id=19450 "API接口扩展 - Z-Blog 应用中心")

Markdown 工具 - Z-Blog 应用中心：

[https://app.zblogcn.com/?id=19416](https://app.zblogcn.com/?id=19416 "Markdown工具 - Z-Blog 应用中心")

## 命令（本地测试）

```shell
pip install markdown
pip install requests
pip install python-frontmatter
```

创建 config.json 并按如下示例填写内容：

```json
{
    "API_USR": "zblog_usr",
    "API_PWD": "zblog_pwd",
    "API_URL": "http://zblog.site/zb_system/api.php",
    "DEBUG": 1
}
```

**注：debug 模式需要手动创建`_debug_README.md`并写入`---start---任意内容---end---`。**

运行：

```bash
python api.py
```

## 文章书写

### 存放路径

支持两种形式，需要配图的文章可以创建一个文件夹存放；

**注：配图自动调用见「[#图床](#图床 "图床")」一节；**

- _posts/*.md
- _posts/*/doc.md

### 内容格式

- 可以直接复制`_posts/1970-01-01-empty.md`；
- 对于 VSCode ，可以使用快捷命令`ctrl + shift + b`；【2021-02-05】
  - **注：会同时创建文件夹和单文件两种形式，按需改名使用即可；**
  - **注：未改名的会被`.gitignore`排除；**

```md
---
title: 文章标题
tags:
- 标签一
- 标签二
categories:
- 分类名
---

正文段落一

<!--more-->

正文段落二

```

## 图床

使用 Cloudflare Workers 反代 GitHub；

根据「·参考」内容配置，然后设置如下 secret：

```conf
IMG_HOST=https://img.wdssmq.workers.dev/
; 应以 / 结尾
; 实际也可绑定自己的域名如 https://img.wdssmq.com/
```

图片放置：

```md
_posts
 ├─ 1970-01-01-empty.md
 └─ 2022-04-23-One-Post
     ├─ 001.png
     ├─ 002.png
     ├─ 003.png
     └─ doc.md
```

文章内使用相对地址引用：

```md
![001.png](001.png)
```

发布时会尝试替换为：

`https://img.wdssmq.workers.dev/_posts/2022-04-23-One-Post/001.png`

**·参考：**

「折腾」关于 2021 年末仍然没有完备的图床方案这件事\_电脑网络\_沉冰浮水：

[https://www.wdssmq.com/post/20211225085.html](https://www.wdssmq.com/post/20211225085.html "「折腾」关于 2021 年末仍然没有完备的图床方案这件事\_电脑网络\_沉冰浮水")

## API 鉴权设置

如图，密码建议使用「md5(密码明文)」；

![001](doc/001.png "001")


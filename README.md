# Markdown-To-Z-Blog

同步*.md 内容到 Z-Blog

使用说明请戳：「[使用说明](#部署 "使用说明")」

---start---

## 目录( 2023 年 02 月 16 日更新)

[「备忘」那些需要全局安装的 node 包](https://www.wdssmq.com/post/20230103270.html "「备忘」那些需要全局安装的 node 包")

[「折腾」Docker + pipenv 运行 Python 项目](https://www.wdssmq.com/post/20220531665.html "「折腾」Docker + pipenv 运行 Python 项目")

[「折腾」Docker 部署 Gitea 时的一些记录](https://www.wdssmq.com/post/20220721836.html "「折腾」Docker 部署 Gitea 时的一些记录")

[皮卡丘那些令人心碎的句子](https://www.wdssmq.com/post/PiKaQiuNaXieLingRenXinSuiDeJuZi.html "皮卡丘那些令人心碎的句子")

[2011年1月5日冷笑话合集 - 亲自出马](https://www.wdssmq.com/post/2011Nian1Yue5RiLengXiaoHuaHeJi-QinZiChuMa.html "2011年1月5日冷笑话合集 - 亲自出马")

[2010年11月29日冷笑话合集 - 打蚊子](https://www.wdssmq.com/post/2010Nian11Yue29RiLengXiaoHuaHeJi-DaWenZi.html "2010年11月29日冷笑话合集 - 打蚊子")

[「折腾」GitHub Actions 如何提取推送的 Tag](https://www.wdssmq.com/post/20220706871.html "「折腾」GitHub Actions 如何提取推送的 Tag")

[「备忘」RustDesk 服务端安装](https://www.wdssmq.com/post/20230103207.html "「备忘」RustDesk 服务端安装")

[「Node.js」一个 export/import 问题](https://www.wdssmq.com/post/20100204145.html "「Node.js」一个 export/import 问题")

[「大坑」关于 module 模式下如何正确引入 WebSocketServer](https://www.wdssmq.com/post/20220301064.html "「大坑」关于 module 模式下如何正确引入 WebSocketServer")

[【折腾】基于 Node 的 QQ 机器人项目](https://www.wdssmq.com/post/20210101974.html "【折腾】基于 Node 的 QQ 机器人项目")

[【说说】伪静态和 301 的区别](https://www.wdssmq.com/post/20200408249.html "【说说】伪静态和 301 的区别")

[总觉得 phpstudy 的「国产」属性太浓烈……](https://www.wdssmq.com/post/20200325228.html "总觉得 phpstudy 的「国产」属性太浓烈……")

[当年投胎选了 Hard 模式，结果生在中国](https://www.wdssmq.com/post/DangNianTouTaiXuanLeHardMoShi-JieGuoShengZaiZhongGuo.html "当年投胎选了 Hard 模式，结果生在中国")

[2010年11月19日冷笑话合集 - 遗产](https://www.wdssmq.com/post/2010Nian11Yue19RiLengXiaoHuaHeJi-YiChan.html "2010年11月19日冷笑话合集 - 遗产")

[「备忘」web.config 设置重定向（301）](https://www.wdssmq.com/post/web-configSheZhiZhongDingXiang-301.html "「备忘」web.config 设置重定向（301）")

[2011年9月5日冷笑话合集 - 别的妈妈怎么办](https://www.wdssmq.com/post/2011Nian9Yue5RiLengXiaoHuaHeJi-BieDeMaMaZenMeBan.html "2011年9月5日冷笑话合集 - 别的妈妈怎么办")

[2011年8月7日冷笑话合集 - 证件类型](https://www.wdssmq.com/post/2011Nian8Yue7RiLengXiaoHuaHeJi-ZhengJianLeiXing.html "2011年8月7日冷笑话合集 - 证件类型")

[同时养鹦鹉和婴儿的杯具](https://www.wdssmq.com/post/TongShiYangHeYingErDeBeiJu.html "同时养鹦鹉和婴儿的杯具")

[医院各科室幽默对联](https://www.wdssmq.com/post/YiYuanGeKeShiYouMoDuiLian.html "医院各科室幽默对联")

[法典的解释](https://www.wdssmq.com/post/FaDianDeJieShi.html "法典的解释")

[「折腾」git 及 docker 命令快捷输入](https://www.wdssmq.com/post/20171130103.html "「折腾」git 及 docker 命令快捷输入")

[2010年12月7日冷笑话合集 - 另有所图](https://www.wdssmq.com/post/2010Nian12Yue7RiLengXiaoHuaHeJi-LingYouSuoTu.html "2010年12月7日冷笑话合集 - 另有所图")

[2011年1月9日冷笑话合集 - 感慨](https://www.wdssmq.com/post/2011Nian1Yue9RiLengXiaoHuaHeJi-GanKai.html "2011年1月9日冷笑话合集 - 感慨")

[玩人人网发生的悲情时刻](https://www.wdssmq.com/post/WanRenRenWangFaShengDeBeiQingShiKe.html "玩人人网发生的悲情时刻")

[这几个语录到是没见过](https://www.wdssmq.com/post/ZheJiGeYuLuDaoShiMeiJianGuo.html "这几个语录到是没见过")

[男女关系 26 个绝妙比喻](https://www.wdssmq.com/post/NanNuGuanXi26GeJueMiaoBiYu.html "男女关系 26 个绝妙比喻")

[优化大师很久没更新了啊【无力吐槽】](https://www.wdssmq.com/post/YouHuaDaShiHenJiuMeiGengXinLeAWuLiTuCao.html "优化大师很久没更新了啊【无力吐槽】")

[2011年1月17日冷笑话合集 - 神秘死亡](https://www.wdssmq.com/post/2011Nian1Yue17RiLengXiaoHuaHeJi-ShenMiSiWang.html "2011年1月17日冷笑话合集 - 神秘死亡")

[2011年1月8日冷笑话合集 - 古堡惊魂](https://www.wdssmq.com/post/2011Nian1Yue8RiLengXiaoHuaHeJi-GuBaoJingHun.html "2011年1月8日冷笑话合集 - 古堡惊魂")

[《甩词歌》甩动 2010](https://www.wdssmq.com/post/ShuaiCiGe-ShuaiDong2010.html "《甩词歌》甩动 2010")

[2011年1月6日冷笑话合集 - 这边亮着灯](https://www.wdssmq.com/post/2011Nian1Yue6RiLengXiaoHuaHeJi-ZheBianLiangZheDeng.html "2011年1月6日冷笑话合集 - 这边亮着灯")

[2011年1月12日冷笑话合集 - 女人就是学校](https://www.wdssmq.com/post/2011Nian1Yue12RiLengXiaoHuaHeJi-NuRenJiuShiXueXiao.html "2011年1月12日冷笑话合集 - 女人就是学校")

[2011年1月27日冷笑话合集 - 点名](https://www.wdssmq.com/post/2011Nian1Yue27RiLengXiaoHuaHeJi-DianMing.html "2011年1月27日冷笑话合集 - 点名")

[CSS 强制换行/不换行相关](https://www.wdssmq.com/post/20130331901.html "CSS 强制换行/不换行相关")

[关于 API 和 OAuth 授权验证](https://www.wdssmq.com/post/ZuoWanDeMengHaiZhenShiXuanYiJiaKeHuanTuCaoChuMei.html "关于 API 和 OAuth 授权验证")

[2011年1月20日冷笑话合集 - 好计策](https://www.wdssmq.com/post/2011Nian1Yue20RiLengXiaoHuaHeJi-HaoJiCe.html "2011年1月20日冷笑话合集 - 好计策")

---end---

## 致谢

zhaoolee/WordPressXMLRPCTools: 用 Hexo 的方式管理 WordPress

[https://github.com/zhaoolee/WordPressXMLRPCTools](https://github.com/zhaoolee/WordPressXMLRPCTools "zhaoolee/WordPressXMLRPCTools: 用Hexo的方式管理WordPress")

## 部署

[![Latest release](https://img.shields.io/github/v/release/wdssmq/Markdown-To-Z-Blog?style=flat-square)](https://github.com/wdssmq/Markdown-To-Z-Blog/releases/latest "Latest release")

↑ 点击图标链接，下载「md2zbp.zip」文件解压至你的版本库文件夹内；

↓ 修改如下文件项目后即可初始化提交；

> `.github/FUNDING.yml` 「用于设置赞助链接——<a class="img-wrap" target="_blank" title="爱发电-@wdssmq" href="https://afdian.net/@wdssmq"><img src="https://img.shields.io/badge/%E7%88%B1%E5%8F%91%E7%94%B5-%40wdssmq-blueviolet" title="爱发电-@wdssmq" alt="爱发电-@wdssmq"></a>」；
>
> `README.md` 「注：`---start---任意内容---end---`用于插入文章列表，其他内容随意」；
>
> `doc/` 「该文件夹及内部图片如不需要可删除」；

↓ 请阅读后续章节了解如何使用；

## 推荐插件

API 接口扩展 - Z-Blog 应用中心：

[https://app.zblogcn.com/?id=19450](https://app.zblogcn.com/?id=19450 "API接口扩展 - Z-Blog 应用中心")

Markdown 工具 - Z-Blog 应用中心：

[https://app.zblogcn.com/?id=19416](https://app.zblogcn.com/?id=19416 "Markdown工具 - Z-Blog 应用中心")

## 命令（本地测试）

```shell
pip install markdown
pip install requests
pip install python-frontmatter
```

创建 config.json 并按如下示例填写内容：

```json
{
    "API_USR": "zblog_usr",
    "API_PWD": "zblog_pwd",
    "API_URL": "http://zblog.site/zb_system/api.php",
    "DEBUG": 1
}
```

**注：debug 模式需要手动创建`_debug_README.md`并写入`---start---任意内容---end---`。**

运行：

```bash
python api.py
```

## 文章书写

### 存放路径

支持两种形式，需要配图的文章可以创建一个文件夹存放；

**注：配图自动调用见「[#图床](#图床 "图床")」一节；**

- _posts/*.md
- _posts/*/doc.md

### 内容格式

- 可以直接复制`_posts/1970-01-01-empty.md`；
- 对于 VSCode ，可以使用快捷命令`ctrl + shift + b`；【2021-02-05】
  - **注：会同时创建文件夹和单文件两种形式，按需改名使用即可；**
  - **注：未改名的会被`.gitignore`排除；**

```md
---
title: 文章标题
tags:
- 标签一
- 标签二
categories:
- 分类名
---

正文段落一

<!--more-->

正文段落二

```

## 图床

使用 Cloudflare Workers 反代 GitHub；

根据「·参考」内容配置，然后设置如下 secret：

```conf
IMG_HOST=https://img.wdssmq.workers.dev/
; 应以 / 结尾
; 实际也可绑定自己的域名如 https://img.wdssmq.com/
```

图片放置：

```md
_posts
 ├─ 1970-01-01-empty.md
 └─ 2022-04-23-One-Post
     ├─ 001.png
     ├─ 002.png
     ├─ 003.png
     └─ doc.md
```

文章内使用相对地址引用：

```md
![001.png](001.png)
```

发布时会尝试替换为：

`https://img.wdssmq.workers.dev/_posts/2022-04-23-One-Post/001.png`

**·参考：**

「折腾」关于 2021 年末仍然没有完备的图床方案这件事\_电脑网络\_沉冰浮水：

[https://www.wdssmq.com/post/20211225085.html](https://www.wdssmq.com/post/20211225085.html "「折腾」关于 2021 年末仍然没有完备的图床方案这件事\_电脑网络\_沉冰浮水")

## API 鉴权设置

如图，密码建议使用「md5(密码明文)」；

![001](doc/001.png "001")

